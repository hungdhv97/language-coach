version: "2"
sql:
  # Dictionary domain
  - engine: "postgresql"
    queries:
      - "db/queries/dictionary"
    # Use only schema SQL files (no data) so sqlc can see table definitions.
    # This directory contains files like 0001_init_schema.sql.
    schema:
      - "db/migrations/schema"
    gen:
      go:
        package: "db"
        out: "internal/platform/db/sqlc/gen/dictionary"
        sql_package: "pgx/v5"
        emit_json_tags: true
        emit_prepared_queries: false
        emit_interface: true
        emit_exact_table_names: false
        emit_empty_slices: true

  # Game domain
  - engine: "postgresql"
    queries:
      - "db/queries/game"
    schema:
      - "db/migrations/schema"
    gen:
      go:
        package: "db"
        out: "internal/platform/db/sqlc/gen/game"
        sql_package: "pgx/v5"
        emit_json_tags: true
        emit_prepared_queries: false
        emit_interface: true
        emit_exact_table_names: false
        emit_empty_slices: true

  # User domain
  - engine: "postgresql"
    queries:
      - "db/queries/user"
    schema:
      - "db/migrations/schema"
    gen:
      go:
        package: "db"
        out: "internal/platform/db/sqlc/gen/user"
        sql_package: "pgx/v5"
        emit_json_tags: true
        emit_prepared_queries: false
        emit_interface: true
        emit_exact_table_names: false
        emit_empty_slices: true
