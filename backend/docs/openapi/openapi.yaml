openapi: 3.1.0
info:
  title: LexiGo API
  version: 1.0.0
  description: |
    API for LexiGo - Multilingual Dictionary & Vocabulary Game Platform
    
    This API provides endpoints for:
    - User authentication and registration
    - User profile management
    - Dictionary lookup and word search
    - Vocabulary game sessions
    - Statistics and performance tracking
  contact:
    name: LexiGo Team

servers:
  - url: http://localhost:8800/api/v1
    description: Local development server
  - url: https://api.staging.example.com/api/v1
    description: Staging server
  - url: https://api.example.com/api/v1
    description: Production server

tags:
  - name: User
    description: User authentication, registration, and profile management
  - name: Dictionary
    description: Dictionary lookup, word search, and reference data
  - name: VocabGames
    description: Vocabulary vocabgame session management
  - name: Statistics
    description: User statistics and performance metrics
  - name: Health
    description: Health check endpoints

security:
  - bearerAuth: []

paths:
  # Health Check
  /health:
    get:
      tags:
        - Health
      summary: Health check
      description: Check API health status
      operationId: healthCheck
      security: []
      responses:
        '200':
          description: API is healthy
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "ok"

  # User Domain (includes auth)
  /auth/register:
    $ref: './paths/user.yaml#/paths/~1auth~1register'
  /auth/login:
    $ref: './paths/user.yaml#/paths/~1auth~1login'
  /auth/check-email:
    $ref: './paths/user.yaml#/paths/~1auth~1check-email'
  /auth/check-username:
    $ref: './paths/user.yaml#/paths/~1auth~1check-username'
  /users/profile:
    $ref: './paths/user.yaml#/paths/~1users~1profile'

  # Dictionary Domain (includes reference data)
  /dictionary/search:
    $ref: './paths/dictionary.yaml#/paths/~1dictionary~1search'
  /dictionary/words/{wordId}:
    $ref: './paths/dictionary.yaml#/paths/~1dictionary~1words~1{wordId}'
  /reference/languages:
    $ref: './paths/dictionary.yaml#/paths/~1reference~1languages'
  /reference/topics:
    $ref: './paths/dictionary.yaml#/paths/~1reference~1topics'
  /reference/levels:
    $ref: './paths/dictionary.yaml#/paths/~1reference~1levels'

  # VocabGame Domain
  /vocabgames/sessions:
    $ref: './paths/vocabgame.yaml#/paths/~1vocabgames~1sessions'
  /vocabgames/sessions/{sessionId}:
    $ref: './paths/vocabgame.yaml#/paths/~1vocabgames~1sessions~1{sessionId}'
  /vocabgames/sessions/{sessionId}/answers:
    $ref: './paths/vocabgame.yaml#/paths/~1vocabgames~1sessions~1{sessionId}~1answers'

  # Statistics Domain
  /statistics/sessions/{sessionId}:
    $ref: './paths/statistics.yaml#/paths/~1statistics~1sessions~1{sessionId}'

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT token obtained from login endpoint

  schemas:
    $ref: './components/schemas.yaml#/components/schemas'

  responses:
    $ref: './components/responses.yaml#/components/responses'

  parameters:
    $ref: './components/parameters.yaml#/components/parameters'
